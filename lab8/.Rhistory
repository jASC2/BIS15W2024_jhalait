installl.packages("naniar")
install.packages("naniar")
library("tidyverse")
library("skimr")
library("janitor")
library("palmerpenguins")
?penguins
penguins %>%
group_by(island) %>%
summarize(mean_body_mass_g=mean(body_mass_g, na.rm=T)) # remember to remove those NA's!
penguins %>%
group_by(island, species) %>%
summarize(n_penguins=n(), .groups = 'keep')
penguins %>%
count(island, species)
penguins %>%
tabyl(island, species)
penguins %>%
filter(species=="Adelie") %>%
summarize(mean_bill_length=mean(bill_length_mm, na.rm = T), mean_bill_depth=mean(bill_depth_mm, na.rm = T), mean_flipper_length=mean(flipper_length_mm, na.rm = T), mean_body_mass=mean(body_mass_g, na.rm = T))
penguins %>%
filter(species=="Adelie") %>%
summarize(mean_bill_length=mean(bill_length_mm, na.rm = T), mean_bill_depth=mean(bill_depth_mm, na.rm = T), mean_flipper_length=mean(flipper_length_mm, na.rm = T), mean_body_mass=mean(body_mass_g, na.rm = T), n=n())
penguins %>%
group_by(species) %>%
summarize(mean_bill_length=mean(bill_length_mm, na.rm = T), mean_bill_depth=mean(bill_depth_mm, na.rm = T), mean_flipper_length=mean(flipper_length_mm, na.rm = T), mean_body_mass=mean(body_mass_g, na.rm = T), n=n())
penguins %>%
group_by(species) %>%
summarize(mean_bill_length=mean(bill_length_mm, na.rm = T), mean_bill_depth=mean(bill_depth_mm, na.rm = T), mean_flipper_length=mean(flipper_length_mm, na.rm = T), mean_body_mass=mean(body_mass_g, na.rm = T), n=n()) %>%
arrange(desc(mean_bill_length))
penguins %>%
group_by(island) %>%
summarize(n_NAs = sum(is.na(sex)))
penguins %>%
summarize(distinct_species = n_distinct(species),
distinct_island = n_distinct(island),
distinct_sex = n_distinct(sex))
penguins %>%
summarize(across(c(species, island, sex), n_distinct))
penguins %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
group_by(sex) %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
summarise_all(n_distinct)
penguins %>%
group_by(species)
summarize(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)), mean, sd, n, na.rm = T)
penguins %>%
group_by(species) %>%
summarize(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)), mean, sd, n, na.rm = T)
penguins %>%
group_by(species) %>%
summarize(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)), mean, na.rm = T)
penguins %>%
group_by(species) %>%
summarize(across(c(bill_length_mm, bill_depth_mm, flipper_length_mm)), mean, na.rm = T))
penguins %>%
group_by(species) %>%
summarize(across(c(contains("mm"), body_mass_g), mean, na.rm=T), n_samples=n())
library("tidyverse")
library("naniar")
library("skimr")
library("janitor")
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>% clean_names()
glimpse(life_history)
summary(life_history)
life_history %>%
map_df(~ sum(is.na(.)))
life_history %>%
?mutate_all
?mutate_all
life_history %>%
replace_with_na(replace=list(x=-999))
life_history %>%
replace_with_na(replace=list(x=-999, -999.000)) #this will go through
life_history %>%
replace_with_na(replace=list(x=-999, -999.00)) #this will go through
life_history <- read_csv("data/mammal_lifehistories_v3.csv", na=c("NA", " ", ".", "-999")) %>% clean_names()
life_history %>%
map_df(~ sum(is.na(.)))
life_history <- read_csv("data/mammal_lifehistories_v3.csv", na=c("NA", " ", ".", "-999", "not measured")) %>% clean_names() #this will replace the values within the vector with NA, whenever the computer comes across them in the data frame
life_history %>%
map_df(~ sum(is.na(.)))
naniar::miss_var_summary(life_history)
hist(life_history$max_life)
life_history <-
life_history %>%
mutate(max_life=na_if(max_life, 0))
miss_var_summary(life_history)
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
miss_var_summary(order=T)
cities <- read_csv("data/cities.csv") %>% clean_names()
cites <- read_csv("data/cites.csv") %>% clean_names()
cites <- read_csv("data/cites.csv") %>% clean_names()
glimpse(cites)
miss_var_summary(cites)
cites %>%
group_by(class) %>%
miss_var_summary(exporter_reported_quantity)
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity) %>%
miss_var_summary()
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity) %>%
group_by(class)
miss_var_summary()
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity) %>%
group_by(class) %>%
miss_var_summary()
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity) %>%
group_by(class) %>%
miss_var_summary() %>%
arrange(desc(pct_miss))
library(visdat)
vis_dat(life_history) #classes of data
vis_miss(life_history)
library("tidyverse")
library("skimr")
library("janitor")
library("palmerpenguins")
?penguins
penguins %>%
group_by(island) %>%
summarize(mean_body_mass_g=mean(body_mass_g, na.rm=T)) # remember to remove those NA's!
penguins %>%
group_by(island, species) %>%
summarize(n_penguins=n(), .groups = 'keep')
penguins %>%
count(island, species)
penguins %>%
tabyl(island, species) #part of the janitor package but accomplishes the same think as counts or group_by/summarize.
penguins %>%
filter(species=="Adelie") %>%
summarize(mean_bill_length=mean(bill_length_mm, na.rm = T), mean_bill_depth=mean(bill_depth_mm, na.rm = T), mean_flipper_length=mean(flipper_length_mm, na.rm = T), mean_body_mass=mean(body_mass_g, na.rm = T), n=n())
penguins %>%
group_by(species) %>%
summarize(mean_bill_length=mean(bill_length_mm, na.rm = T), mean_bill_depth=mean(bill_depth_mm, na.rm = T), mean_flipper_length=mean(flipper_length_mm, na.rm = T), mean_body_mass=mean(body_mass_g, na.rm = T), n=n()) %>%
arrange(desc(mean_bill_length))
penguins %>%
group_by(island) %>%
summarize(n_NAs = sum(is.na(sex)))
penguins %>%
summarize(distinct_species = n_distinct(species),
distinct_island = n_distinct(island),
distinct_sex = n_distinct(sex))
penguins %>%
summarize(distinct_species = n_distinct(species),
distinct_island = n_distinct(island),
distinct_sex = n_distinct(sex, na.rm = T))
penguins %>%
summarize(across(c(species, island, sex), n_distinct))
penguins %>%
summarize(across(c(species, island, sex), n_distinct, na.rm=T))
penguins %>%
summarize(across(c(species, island, sex), n_distinct))
penguins %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
group_by(sex) %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
summarise_all(n_distinct)
penguins %>%
summarize(across(!c(species, island, sex, year),
mean, na.rm=T))
penguins %>%
summarise(across(starts_with("bill"), n_distinct))
names(penguins)
penguins %>%
group_by(species) %>%
summarize(across(c(contains("mm"), body_mass_g), mean, na.rm=T), n_samples=n())
library("tidyverse")
library("naniar")
library("skimr")
library("janitor")
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>% clean_names()
glimpse(life_history)
summary(life_history)
life_history %>%
map_df(~ sum(is.na(.)))
naniar::miss_var_summary(life_history) #pct_miss denotes what percentage of the variable's observations are missing
hist(life_history$max_life)
View(life_history)
life_history <-
life_history %>%
mutate(max_life=na_if(max_life, 0)) #replaces any values in max_life that are 0 with NA
miss_var_summary(life_history)
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
miss_var_summary(order=T)
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
miss_var_summary()
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
miss_var_summary(order=T)
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
miss_var_summary()
life_history %>%
group_by(order) %>%
select(order, wean_mass) %>%
miss_var_summary(order=T)
life_history %>%
replace_with_na(replace = list(newborn = "not measured",
weaning= -999,
wean_mass= -999,
afr= -999,
max_life= 0,
litter_size= -999,
gestation= -999,
mass= -999)) %>%
miss_var_summary()
#this command makes the replacement process for NAs specific to a variable
cites <- read_csv("data/cites.csv") %>% clean_names()
glimpse(cites)
miss_var_summary(cites)
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity) %>%
miss_var_summary() %>%
arrange(desc(pct_miss))
View(cites)
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity, origin) %>%
miss_var_summary() %>%
arrange(desc(pct_miss))
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity, origin) %>%
miss_var_summary()
cites %>%
group_by(class) %>%
select(class, exporter_reported_quantity) %>%
miss_var_summary() %>%
arrange(desc(pct_miss))
library(visdat)
vis_dat(life_history) #classes of data
vis_miss(life_history)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("../lab8/data/amniota.csv")
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amphibio <- read_csv("../lab8/data/amphibio.csv")
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
glimpse(amniota)
miss_var_summary(amniota)
glimpse(amphibio)
summary(amphibio)
miss_var_summary(amphibio)
miss_var_summary(amniota)
miss_var_summary(amphibio)
View(amniota)
View(amphibio)
amniota %>%
replace_with_na(replace = list(subspecies=-999, common_name=-999, female_maturity_d=-999.000,
litter_or_clutch_size_n=-999.000, litters_or_clutches_per_y=-999.0, adult_body_mass_g=-999.0000,
maximum_longevity_y=-999.00000, gestation_d=-999, weaning_d=-999,
birth_or_hatching_weight_g=-999.00, weaning_weight_g=-999, egg_mass_g=-999.00, incubation_d=-999.00,
fledging_age_d=-999.00, longevity_y=-999.00000, male_maturity_d=-999.00,
inter_litter_or_interbirth_interval_y=-999, female_body_mass_g=-999.000, male_body_mass_g=-999.0000,
no_sex_body_mass_g=-999.000, egg_width_mm=-999.00, egg_length_mm=-999.0, fledging_mass_g=-999.00,
adult_svl_cm=-999.00, male_svl_cm=-999, female_svl_cm=-999, birth_or_hatching_svl_cm=-999,
female_svl_at_maturity_cm=-999, female_body_mass_at_maturity_g=-999, no_sex_svl_cm=-999,
no_sex_maturity_d=-999.00))
View(amniota)
amniota <- amniota %>%
replace_with_na(replace = list(subspecies=-999, common_name=-999, female_maturity_d=-999.000,
litter_or_clutch_size_n=-999.000, litters_or_clutches_per_y=-999.0, adult_body_mass_g=-999.0000,
maximum_longevity_y=-999.00000, gestation_d=-999, weaning_d=-999,
birth_or_hatching_weight_g=-999.00, weaning_weight_g=-999, egg_mass_g=-999.00, incubation_d=-999.00,
fledging_age_d=-999.00, longevity_y=-999.00000, male_maturity_d=-999.00,
inter_litter_or_interbirth_interval_y=-999, female_body_mass_g=-999.000, male_body_mass_g=-999.0000,
no_sex_body_mass_g=-999.000, egg_width_mm=-999.00, egg_length_mm=-999.0, fledging_mass_g=-999.00,
adult_svl_cm=-999.00, male_svl_cm=-999, female_svl_cm=-999, birth_or_hatching_svl_cm=-999,
female_svl_at_maturity_cm=-999, female_body_mass_at_maturity_g=-999, no_sex_svl_cm=-999,
no_sex_maturity_d=-999.00))
View(amniota)
miss_var_summary(amniota)
View(amphibio)
miss_var_summary(amphibio)
amniota %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
miss_var_summary()
amphibio %>%
select(fos, ter, aqu, arb) %>%
miss_var_summary()
View(amniota)
amniota <-
read_csv(file = "../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999", -999.0, -999.00, -999.000, -999.0000,-999.00000))
View(amniota)
amniota <-
read_csv(file = "../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999", -999.0, -999.00, -999.000, -999.0000,-999.00000))
summary(amniota)
